# Проект 7-го спринта
Описание задачи проекта:
1. В рамках соцсети из спринта реализовать систему рекомендаций пользователям, на основе геоаналитики
	Приложение будет предлагать пользователю написать человеку, если пользователь и адресат:
		состоят в одном канале,
		раньше никогда не переписывались,
		находятся не дальше 1 км друг от друга.

2. На основе геоаналитики внедрить функционал рекламы компаний-партнеров
	Выяснить, где находится большинство пользователей по количеству сообщений, лайков и подписок из одной точки.
	Посмотреть, в какой точке Австралии регистрируется больше всего новых пользователей.
	Определить, как часто пользователи путешествуют и какие города выбирают.


Структура :
Внутри `src` расположены две папки:
- `/src/dags` - даг для оркестрации процесса;
- `/src/sql` - формирование витрин.

Ход исследования:
1. Формирование тестовой выборки 10% от всего объема из исходных данных ('/user/master/data/geo/events/'). Данные взяты за последний месяц(30 дней). Источник данных о геопозиционировании - geo_percent.csv(test_data.py)
2. Подготовить модуль users_mart.py  для витрины  в разрезе пользователей
3. Подготовить модуль zones_mart.py  для витрины   в разрезе зон
4. Подготовить модуль recomendation_mart.py  для витрины  для рекомендации друзей
5. Даг для работы через Airflow

Данные:
1. витрина  в разрезе пользователей
	user_id — идентификатор пользователя.
	act_city — актуальный адрес. Это город, из которого было отправлено последнее сообщение.
	home_city — домашний адрес. Это последний город, в котором пользователь был дольше 27 дней.
	travel_count — количество посещённых городов. Если пользователь побывал в каком-то городе повторно, то это считается за отдельное посещение.
	travel_array — список городов в порядке посещения.
	local_time - местное время
2. витрина   в разрезе зон
	month — месяц расчёта;
	week — неделя расчёта;
	zone_id — идентификатор зоны (города);
	week_message — количество сообщений за неделю;
	week_reaction — количество реакций за неделю;
	week_subscription — количество подписок за неделю;
	week_user — количество регистраций за неделю;
	month_message — количество сообщений за месяц;
	month_reaction — количество реакций за месяц;
	month_subscription — количество подписок за месяц;
	month_user — количество регистраций за месяц.
	

3. витрина  для рекомендации друзей
	user_left — первый пользователь;
	user_right — второй пользователь;
	processed_dttm — дата расчёта витрины;
	zone_id — идентификатор зоны (города);
	local_time — локальное время.